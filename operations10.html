<!DOCTYPE html>
<html>
<head>
  <title>EXECUTIVE FILE OPERATIONS - SERAPH</title>
  <link rel="stylesheet" href="ex-style.css">
</head>
<body>
  <div class="terminal">
    <h1>FILE OPERATIONS MODULE</h1>
    <p id="terminal-text">SECURE EXECUTIVE SYSTEM ACTIVE...</p>

    <!-- OPERATION BUTTONS -->
    <div id="operation-buttons" style="margin-top:10px;">
      <button class="btn" onclick="confirmOperation('BLACKHAWK')">OPERATION BLACKHAWK</button>
      <button class="btn" onclick="confirmOperation('TOMAHAWK')">OPERATION TOMAHAWK</button>
      <button class="btn" onclick="confirmOperation('THE DAWN')">OPERATION THE DAWN</button>
    </div>

    <!-- CONFIRMED OPERATIONS PANEL -->
    <h2 style="margin-top:20px;">CONFIRMED OPERATIONS</h2>
    <textarea
      id="operations-panel"
      rows="6"
      placeholder="EXECUTIVE ACTION LOG..."
      style="
        width:100%;
        background:black;
        border:1px solid #ff3333;
        padding:10px;
        resize:none;
      "
    ></textarea>

    <!-- SECURITY LOG -->
    <div id="security-log" style="margin-top:15px; font-size:0.9em;">
      SECURITY LOG ACTIVE...
    </div>

    <p class="warning">
      ACCESS RESTRICTED: EXECUTIVE LEVEL ONLY
    </p>
  </div>

  <script>
    const opsPanel = document.getElementById('operations-panel');

    // Load saved operations from localStorage
    window.addEventListener('DOMContentLoaded', () => {
      const savedOps = localStorage.getItem('operations_SERAPH');
      if (savedOps) {
        opsPanel.value = savedOps;
      }
    });

    function typeText(element, text, speed = 40) {
      let i = 0;
      element.innerHTML = '';
      function type() {
        if (i < text.length) {
          element.innerHTML += text.charAt(i);
          i++;
          setTimeout(type, speed);
        }
      }
      type();
    }

    function appendLog(message, speed = 30) {
      const log = document.getElementById('security-log');
      let i = 0;
      function type() {
        if (i < message.length) {
          log.innerHTML += message.charAt(i);
          i++;
          setTimeout(type, speed);
        } else {
          log.innerHTML += '<br>';
        }
      }
      type();
    }

    // Confirm operation button click
    function confirmOperation(operationName) {
      const terminalText = document.getElementById('terminal-text');

      // Terminal animation
      typeText(terminalText, `ACCESS GRANTED...\nCONFIRMING ${operationName}...`);

      // Append to confirmed operations panel
      opsPanel.value += `[CONFIRMED] ${operationName}\n`;

      // Save updated panel to localStorage
      localStorage.setItem('operations_SERAPH', opsPanel.value);

      // Append to security log
      appendLog(`[SECURITY] ${operationName} CONFIRMED`);
    }

    // Save manual edits automatically
    opsPanel.addEventListener('input', () => {
      localStorage.setItem('operations_SERAPH', opsPanel.value);
    });

    // Initial terminal message
    typeText(document.getElementById('terminal-text'), 'SECURE EXECUTIVE SYSTEM ACTIVE...');
    appendLog('[SECURITY] Executive session initialized...');
  </script>
</body>
</html>
